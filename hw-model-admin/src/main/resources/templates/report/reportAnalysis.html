<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org"
      xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<meta charset="utf-8">
<head th:include="include :: header"></head>
<link th:href="@{/ajax/libs/jquery-layout/jquery.layout-latest.css}" rel="stylesheet"/>
<style>
    .echarts-container{
        height:350px;
    }
    .echarts-row{
        margin: 10px;height:330px;background: #fff;border-radius: 6px;box-shadow: 1px 1px 3px rgba(0,0,0,.2);
    }
    .echarts-col{
        padding-top: 10px;padding-left: 10px;
    }
</style>
<body class="gray-bg">

<div class="container ui-layout-center echarts-container">
<!--    <div class="row echarts-row">
        <div class="col-md-6 echarts-col">
            <div class="echarts-panel">
                &lt;!&ndash; 为 ECharts 准备一个具备大小（宽高）的 DOM &ndash;&gt;
                <div id="echarts1" style="width: 400px;height:300px;margin: 0 auto;"></div>
                <textarea rows="3" style="min-width: 90%" placeholder="填入分析内容..."></textarea>
            </div>
        </div>
        <div class="col-md-6 echarts-col">
            <div class="echarts-panel">
                &lt;!&ndash; 为 ECharts 准备一个具备大小（宽高）的 DOM &ndash;&gt;
                <div id="echarts2" style="width: 400px;height:300px;margin: 0 auto;"></div>
                <textarea rows="3" style="min-width: 90%" placeholder="填入分析内容..."></textarea>
            </div>
        </div>
    </div>
    <div class="row echarts-row">
        <div class="col-md-6 echarts-col">
            <div class="echarts-panel">
                &lt;!&ndash; 为 ECharts 准备一个具备大小（宽高）的 DOM &ndash;&gt;
                <div id="echarts3" style="width: 400px;height:300px;margin: 0 auto;"></div>
                <textarea rows="3" style="min-width: 90%" placeholder="填入分析内容..."></textarea>
            </div>
        </div>
        <div class="col-md-6 echarts-col">
            <div class="echarts-panel">
                &lt;!&ndash; 为 ECharts 准备一个具备大小（宽高）的 DOM &ndash;&gt;
                <div id="echarts4" style="width: 400px;height:300px;margin: 0 auto;"></div>
                <textarea rows="3" style="min-width: 90%" placeholder="填入分析内容..."></textarea>
            </div>
        </div>
    </div>-->
</div>

<div th:include="include :: footer"></div>
<script th:src="@{/ajax/libs/jquery-layout/jquery.layout-latest.js}"></script>
<!-- 引入 ECharts 文件 -->
<script th:src="@{/saas/js/echarts.min.js}"></script>
<script th:inline="javascript">

    $(function() {
        var panehHidden = false;
        if ($(this).width() < 769) {
            panehHidden = true;
        }
        $('body').layout({ initClosed: panehHidden, west__size: 185 });
        generateTargetPanel();
        loopShowTargetData();
    });

    /**
     * 生成每个指标所在的面板区域
     */
    function generateTargetPanel() {
        var echartsContainer = document.getElementsByClassName('echarts-container')[0];

        for (var count = 0; count < 8; count++) {

            var echartsRowDiv = document.createElement("div");
            echartsRowDiv.setAttribute("class","row echarts-row");
            //echartsRowDiv.setAttribute("style", "width: 600px;height:320px;border:2px solid red");

            var echartsColDiv = document.createElement("div");
            echartsColDiv.setAttribute("class","col-md-12 echarts-col");
            //echartsColDiv.setAttribute("style", "border:2px solid green");

            var echartsDiv = document.createElement("div");
            echartsDiv.setAttribute("id", "echarts" + count);
            echartsDiv.setAttribute("style", "float:left;width: 60%;height: 300px;border:2px solid green");

            var textareaDiv = document.createElement("div");
            textareaDiv.setAttribute("style", "margin-right:10px;padding-top: 10px;float:right;width: 30%;height: 300px;");

            var textAreaElement = document.createElement("textarea");
            textAreaElement.setAttribute("row", "30");
            textAreaElement.setAttribute("style", "min-width: 100%;height: 100%;");
            textAreaElement.setAttribute("placeholder", "填入分析内容...");
            textAreaElement.setAttribute("id", "textarea"+count);
            textAreaElement.setAttribute("key-reportId", "对应的reportId"+count);

            echartsContainer.appendChild(echartsRowDiv);
            echartsRowDiv.appendChild(echartsColDiv);
            echartsColDiv.appendChild(echartsDiv);
            textareaDiv.appendChild(textAreaElement)
            echartsColDiv.appendChild(textareaDiv);
        }

    }

    /**
     * 循环展示各个指标
     */
    function loopShowTargetData() {
        var echartsArray = [];
        for (var i = 0; i < 8; i++) {
            echartsArray.push(echarts.init(document.getElementById('echarts'+i)));
        }
        for (var i = 0; i < 8; i++) {
            var option = {
                title: {
                    text: 'ECharts 入门示例'
                },
                color: ['#2f4554'],
                tooltip: {},
                legend: {
                    data:['销量']
                },
                xAxis: {
                    data: ["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]
                },
                yAxis: {},
                series: [{
                    name: '销量',
                    type: 'bar',
                    data: [5, 20, 36, 10, 10, 20]
                }]
            };
            echartsArray[i].setOption(option);
        }
    }

</script>


</body>
</html>